[中文](README.md) | [English](README_EN.md) | 日本語

# Drawbet - シンプルお絵描きアプリ

---

## 📱 アプリ概要

Drawbet は、シンプルで使いやすい Android お絵描きアプリです。複数のブラシスタイル、色調整、作品履歴管理などの機能をサポートしています。いつでもどこでも創造的なインスピレーションを記録するのに最適です。

---

## 📖 機能紹介

### 🏠 ホーム画面
- **新規作成**：新しい作品を作成し、カスタム命名が可能（デフォルト形式：`新規作品_現在時刻`）
- **作品を続ける**：最後に編集した作品をすばやく読み込む
- **作品履歴**：保存されたすべての作品を閲覧・管理
- 美しいイラスト背景と半透明オーバーレイによる、美しくテーマに合ったデザイン
- 画面下部に作者情報を表示

### 🎨 お絵描き画面
- **描画ツール**：4つの描画モードを提供
  - ブラシ：自由曲線を描く
  - 消しゴム：描いた内容を消去
  - 円形：楕円/円を描く
  - 矩形：四角形を描く
- **ブラシサイズ**：スライダーでブラシの太さをリアルタイム調整、左側の円形ビューでプレビュー表示
- **色調整**：RGBスライダーでブラシの色を自由に調整、左側の円形ビューでリアルタイムプレビュー
- **元に戻す/やり直し**：複数ステップの元に戻す・やり直し操作をサポート
- **キャンバスをクリア**：ワンクリックでキャンバスをクリア（確認が必要）
- **自動保存作品**：作品の変更を検出し、自動的にデータベースに保存
- **画像エクスポート**：保存ボタンをクリックすると作品をJPG画像としてギャラリーにエクスポート、保存ボタンを長押しすると履歴ページへ移動
- **シェイクでクリア**：端末を振ってキャンバスをすばやくクリア（確認が必要）
- **名前変更**：上部の作品タイトルをタップして名前を変更
- **自動保存**：描画変更時に元に戻す/やり直しスタックを自動保存

### 📂 作品履歴画面
- **検索機能**：入力と同時に即座に検索、マッチした作品名の部分が赤くハイライト表示
- **新規作成**：右上の `+` ボタンをクリックして新しい作品を作成
- **作品リスト**：
  - サムネイル、名前、最終更新日時を表示
  - 名前をクリックして名前変更
  - 作品をクリックして編集モードに入る
  - 一括選択用のチェックボックスをサポート
- **一括操作**：
  - 全選択/解除：ワンクリックで全選択または選択解除
  - 反転：現在の選択状態を反転
  - 削除：選択した作品を一括削除
  - 保存：選択した作品をJPG画像として一括エクスポート
- 作品がない場合は「作品がありません。右上の + をクリックして作成してください」と表示
- 多数の作品をスクロールして閲覧可能

### 👤 アバウトページ
- 「クリア」ボタンを長押しでアバウトページにアクセス

---

## 🛠️ 技術実装

### プロジェクト構成
```
app/src/main/java/com/example/majordesign_master_v1/
├── MainActivity.java        # お絵描き画面のメインロジック
├── HomeActivity.java        # ホーム画面のロジック
├── HistoryActivity.java     # 履歴画面のロジック
├── WrittingView.java        # カスタム描画ビュー
├── AboutPage.java           # アバウトページ
├── data/                    # データ層
│   ├── DrawingDao.java      # データアクセスオブジェクト
│   ├── DrawingDatabase.java # Room データベース
│   ├── DrawingEntity.java   # 作品エンティティ
│   ├── DrawingRepository.java # データリポジトリ
│   ├── DrawingState.java    # 作品状態
│   └── BitmapConverters.java # ビットマップ変換ユーティリティ
└── history/                 # 履歴 UI
    ├── HistoryAdapter.java  # リストアダプター
    └── HistoryViewModel.java # ViewModel
```

### 主要技術
- **レイアウト**：LinearLayout による線形垂直レイアウト
- **カスタムビュー**：WrittingView でキャンバス機能を実装
- **データストレージ**：Room データベースで作品データを永続化
- **スタイルリソース**：drawable リソースで角丸矩形、円形ビュー、グラデーション背景などを実現
- **センサー**：加速度センサーでシェイクによるクリア機能を実装

### 🗂️ データとストレージ
- **自動保存**：お絵描き画面で 30 秒ごとに元に戻す/やり直しスタックを自動保存し、バックグラウンド移行や終了時にも保存
- **ローカルデータベース**：Room が作品名・サムネイル・状態（`DrawingState` / `BitmapConverters`）を保持
- **画像エクスポート**：MediaStore 経由で JPG をギャラリーへ保存、ファイル名は作品名を使用し、未命名なら `新規作品_yyyyMMdd_HHmmss`
- **権限**：画像エクスポートにはギャラリー書き込み許可が必要（Android 10+ はスコープドストレージで legacy 権限不要）

### 開発ステップ概要

1. ホーム、お絵描き、履歴の3つのメイン画面を構築
2. ホーム画面のレイアウトを設計し、新規作成、作品を続ける、履歴の3つのエントリポイントを実装
3. お絵描き画面を設計し、ブラシサイズ調整、ブラシスタイル選択、キャンバス、色調整、アクションボタンを含む
4. 履歴画面を設計し、検索、新規作成、一括操作機能を実装
5. 美しいUIエフェクトのための drawable と style リソースを作成
6. MainActivity のインタラクションロジックを実装
7. WrittingView の描画機能を実装
8. HomeActivity のホーム画面動作を実装
9. HistoryActivity で履歴管理を実装
10. data と history パッケージを作成し、データベースとUIインターフェースを管理
11. アバウトページを設計

---

## 🚀 プロジェクトの実行

### 必要環境
- Android Studio 2024.1 以降（Android Gradle Plugin 8 対応）
- Android SDK：compileSdk 36 / targetSdk 36、minSdk 24
- JDK 11
- Gradle Wrapper 8.13（同梱）

### ビルド手順
```bash
# プロジェクトをクローン
git clone https://github.com/lin-zk/Drawbet.git
cd Drawbet
# プロジェクトをビルド
./gradlew build
```

---

## 📄 ライセンス

本プロジェクトは **[MIT ライセンス](LICENSE)** です。

---

## 🤝 作者について
- **作者**: lin-zk
- **メール**: 1751740699@qq.com / eezhengkanglin@mail.scut.edu.cn
- **QQ**: 1751740699
- **お気軽にご連絡ください**

---

## 🙏 特別感謝

- **Copilotの強力なコード生成とデバッグ機能により、本プロジェクトの実装に大きく貢献しました**
- **[「ご注文はうさぎですか？」新作アニメ制作決定！お祝いアート](https://gochiusa.com/anime10th/contents/c06080000.html?utm_source=x&utm_medium=post&utm_campaign=tp2025)を本プロジェクトのホーム画面イラスト背景として使用**
- **SCUTで開設された組込みシステムとモバイルアプリケーション設計のコースと2名の講師の先生方**
